function render() {
  const data = periods[currentPeriod] || {};

  let html = `
  <table>
    <tr>
      <th>Период</th>
      <th>Группа</th>
      <th>Педагог</th>
      <th>Людей</th>
      <th>Посещений</th>
      <th>Грант</th>
      <th>Педагогу</th>
      <th>Аренда</th>
      <th>Прибыль</th>
      <th>%</th>
    </tr>`;

  Object.values(data).forEach(g => {
    let teacherPay = 0;
    let rent = g.teacher?.rent || 0;

    if (g.teacher) {
      teacherPay =
        g.teacher.type === "percent"
          ? g.income * g.teacher.value / 100
          : g.teacher.value;
    }

    const profit = g.income - teacherPay - rent;
    const rentability = g.income
      ? Math.round(profit / g.income * 100)
      : 0;

    html += `
    <tr>
      <td>${currentPeriod}</td>
      <td>${g.groupCode}</td>
      <td>${g.teacher?.name || "-"}</td>
      <td>${g.people}</td>
      <td>${g.visits}</td>
      <td>${g.income} ₽</td>
      <td>${Math.round(teacherPay)} ₽</td>
      <td>${rent} ₽</td>
      <td class="${profit >= 0 ? "green" : "red"}">${profit} ₽</td>
      <td>${rentability}%</td>
    </tr>`;
  });

  html += "</table>";
  document.getElementById("report").innerHTML = html;
}
