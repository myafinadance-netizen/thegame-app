<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—á—ë—Ç –¥–æ—Ö–æ–¥–æ–≤ TheGame</title>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const Download = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
            </svg>
        );

        const Plus = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/>
            </svg>
        );

        const Calendar = () => (
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
        );

        const TrendingUp = () => (
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/>
            </svg>
        );

        const BarChart = () => (
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="12" y1="20" x2="12" y2="10"/><line x1="18" y1="20" x2="18" y2="4"/><line x1="6" y1="20" x2="6" y2="16"/>
            </svg>
        );

        const Users = () => (
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
        );

        function FinanceTracker() {
            const [activeTab, setActiveTab] = useState('monthly');
            
            const tabs = [
                { id: 'monthly', name: '–ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç', icon: Calendar },
                { id: 'expenses', name: '–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã', icon: TrendingUp },
                { id: 'passive', name: '–ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥', icon: BarChart },
                { id: 'individual', name: '–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª–∫–∏', icon: Users },
                { id: 'summary', name: '–°–≤–æ–¥–∫–∞', icon: BarChart },
            ];

            const [monthlyData] = useState([
                { date: '25.11', location: '–ß–µ—Ä–∫–∏–∑–æ–≤—Å–∫–∞—è', type: '–î–æ–ª–≥–æ–ª–µ—Ç–∏–µ', teacher: '–Ø', people: 35, income: 9800, expense: 0, profit: 4900, note: '–ú–æ—è –≥—Ä—É–ø–ø–∞' },
                { date: '25.11', location: '–ß–µ—Ä–∫–∏–∑–æ–≤—Å–∫–∞—è', type: '–î–æ–ª–≥–æ–ª–µ—Ç–∏–µ', teacher: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞', people: 33, income: 9240, expense: 3220, profit: 4620, note: '50%-1400‚ÇΩ' },
                { date: '26.11', location: '–ë—É–¥–µ–Ω–Ω–æ–≥–æ', type: '–§–æ—Ä–º–µ–π—à–Ω', teacher: '–Ø', people: 20, income: 5600, expense: 0, profit: 5600, note: '' },
            ]);

            const [expenses] = useState([
                { item: '–ê—Ä–µ–Ω–¥–∞ –ß–µ—Ä–∫–∏–∑–æ–≤—Å–∫–∞—è', amount: 0, comment: '–û–ø–ª–∞—á–∏–≤–∞—é—Ç –ø–µ–¥–∞–≥–æ–≥–∏' },
                { item: '–ö–æ–º–º—É–Ω–∞–ª–∫–∞ –ë—É–¥–µ–Ω–Ω–æ–≥–æ', amount: 20000, comment: '' },
                { item: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', amount: 10000, comment: '~500‚ÇΩ √ó –¥–Ω–∏ –∞—Ä–µ–Ω–¥—ã' },
                { item: '–†–µ–∫–ª–∞–º–∞', amount: 0, comment: '–ï—Å–ª–∏ –µ—Å—Ç—å' },
                { item: '–ü—Ä–æ—á–µ–µ', amount: 0, comment: '' },
            ]);

            const [passive] = useState([
                { source: '–í–∫–ª–∞–¥ 1', monthly: 85000, capital: 0, rate: 0 },
            ]);

            const [individual] = useState([
                { date: '25.11', client: '–ò–≤–∞–Ω –ü.', location: '–ë—É–¥–µ–Ω–Ω–æ–≥–æ', hours: 1.5, rate: 3000, income: 4500, note: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∫–æ–Ω–∫—É—Ä—Å—É' },
                { date: '26.11', client: '–ú–∞—Ä–∏—è –°.', location: '–í—ã–µ–∑–¥', hours: 1, rate: 5000, income: 5000, note: 'VIP' },
            ]);

            const totalMonthlyIncome = monthlyData.reduce((sum, item) => sum + item.income, 0);
            const totalMonthlyExpense = monthlyData.reduce((sum, item) => sum + item.expense, 0);
            const totalMonthlyProfit = monthlyData.reduce((sum, item) => sum + item.profit, 0);

            const totalExpenses = expenses.reduce((sum, item) => sum + item.amount, 0);
            const totalPassive = passive.reduce((sum, item) => sum + item.monthly, 0);
            const totalIndividual = individual.reduce((sum, item) => sum + item.income, 0);
            const totalIndividualHours = individual.reduce((sum, item) => sum + item.hours, 0);

            const formatNumber = (num) => new Intl.NumberFormat('ru-RU').format(num);

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-4">
                    <div className="max-w-7xl mx-auto">
                        <div className="mb-8">
                            <div className="flex items-center justify-between mb-4">
                                <div>
                                    <h1 className="text-3xl font-bold mb-2">üí∞ –£—á—ë—Ç –¥–æ—Ö–æ–¥–æ–≤ TheGame</h1>
                                    <p className="text-slate-400">–ü—É—Ç—å –æ—Ç 385–ö –∫ 1–ú | 2025-2026</p>
                                </div>
                                <button className="flex items-center gap-2 bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg transition">
                                    <Download />
                                    –≠–∫—Å–ø–æ—Ä—Ç
                                </button>
                            </div>
                            
                            <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                                <div className="bg-slate-800 p-4 rounded-lg border border-slate-700">
                                    <div className="text-slate-400 text-sm mb-1">–¢–µ–∫—É—â–∏–π –¥–æ—Ö–æ–¥</div>
                                    <div className="text-2xl font-bold text-green-400">385,000‚ÇΩ</div>
                                </div>
                                <div className="bg-slate-800 p-4 rounded-lg border border-slate-700">
                                    <div className="text-slate-400 text-sm mb-1">–¶–µ–ª—å (–¢–æ—á–∫–∞ –ë)</div>
                                    <div className="text-2xl font-bold text-blue-400">1,000,000‚ÇΩ</div>
                                </div>
                                <div className="bg-slate-800 p-4 rounded-lg border border-slate-700">
                                    <div className="text-slate-400 text-sm mb-1">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
                                    <div className="text-2xl font-bold text-yellow-400">38.5%</div>
                                </div>
                                <div className="bg-slate-800 p-4 rounded-lg border border-slate-700">
                                    <div className="text-slate-400 text-sm mb-1">–î–æ —Ü–µ–ª–∏</div>
                                    <div className="text-2xl font-bold text-red-400">615,000‚ÇΩ</div>
                                </div>
                            </div>
                        </div>

                        <div className="flex gap-2 mb-6 overflow-x-auto">
                            {tabs.map((tab) => {
                                const Icon = tab.icon;
                                return (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveTab(tab.id)}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition whitespace-nowrap ${
                                            activeTab === tab.id ? 'bg-blue-600 text-white' : 'bg-slate-800 text-slate-400 hover:bg-slate-700'
                                        }`}
                                    >
                                        <Icon />
                                        {tab.name}
                                    </button>
                                );
                            })}
                        </div>

                        <div className="bg-slate-800 rounded-lg border border-slate-700 p-6">
                            {activeTab === 'monthly' && (
                                <div>
                                    <div className="flex justify-between items-center mb-4">
                                        <h2 className="text-xl font-bold">üìÖ –ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç</h2>
                                        <button className="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded text-sm transition">
                                            <Plus />
                                            –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
                                        </button>
                                    </div>
                                    
                                    <div className="overflow-x-auto">
                                        <table className="w-full text-sm">
                                            <thead>
                                                <tr className="border-b border-slate-700">
                                                    <th className="text-left py-3 px-2">–î–∞—Ç–∞</th>
                                                    <th className="text-left py-3 px-2">–õ–æ–∫–∞—Ü–∏—è</th>
                                                    <th className="text-left py-3 px-2">–¢–∏–ø</th>
                                                    <th className="text-left py-3 px-2">–ü–µ–¥–∞–≥–æ–≥</th>
                                                    <th className="text-right py-3 px-2">–õ—é–¥–µ–π</th>
                                                    <th className="text-right py-3 px-2">–î–æ—Ö–æ–¥</th>
                                                    <th className="text-right py-3 px-2">–†–∞—Å—Ö–æ–¥</th>
                                                    <th className="text-right py-3 px-2">–ü—Ä–∏–±—ã–ª—å</th>
                                                    <th className="text-left py-3 px-2">–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {monthlyData.map((row, idx) => (
                                                    <tr key={idx} className="border-b border-slate-700/50 hover:bg-slate-700/30">
                                                        <td className="py-3 px-2">{row.date}</td>
                                                        <td className="py-3 px-2">{row.location}</td>
                                                        <td className="py-3 px-2">{row.type}</td>
                                                        <td className="py-3 px-2">{row.teacher}</td>
                                                        <td className="text-right py-3 px-2">{row.people}</td>
                                                        <td className="text-right py-3 px-2 text-green-400">{formatNumber(row.income)}‚ÇΩ</td>
                                                        <td className="text-right py-3 px-2 text-red-400">{formatNumber(row.expense)}‚ÇΩ</td>
                                                        <td className="text-right py-3 px-2 font-bold text-blue-400">{formatNumber(row.profit)}‚ÇΩ</td>
                                                        <td className="py-3 px-2 text-slate-400 text-xs">{row.note}</td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                            <tfoot className="bg-slate-900/50">
                                                <tr className="font-bold">
                                                    <td colSpan="5" className="py-3 px-2">–ò–¢–û–ì–û:</td>
                                                    <td className="text-right py-3 px-2 text-green-400">{formatNumber(totalMonthlyIncome)}‚ÇΩ</td>
                                                    <td className="text-right py-3 px-2 text-red-400">{formatNumber(totalMonthlyExpense)}‚ÇΩ</td>
                                                    <td className="text-right py-3 px-2 text-blue-400">{formatNumber(totalMonthlyProfit)}‚ÇΩ</td>
                                                    <td></td>
                                                </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                </div>
                            )}

                            {activeTab === 'summary' && (
                                <div>
                                    <h2 className="text-xl font-bold mb-6">üìä –°–≤–æ–¥–∫–∞ –∑–∞ –Ω–æ—è–±—Ä—å 2025</h2>
                                    
                                    <div className="grid md:grid-cols-2 gap-6">
                                        <div className="bg-slate-900/50 p-6 rounded-lg border border-slate-700">
                                            <h3 className="text-lg font-bold mb-4 text-green-400">–î–û–•–û–î–´</h3>
                                            <div className="space-y-3">
                                                <div className="flex justify-between">
                                                    <span className="text-slate-300">–î–æ–ª–≥–æ–ª–µ—Ç–∏–µ –ß–µ—Ä–∫–∏–∑–æ–≤—Å–∫–∞—è:</span>
                                                    <span className="font-semibold">117,600‚ÇΩ</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span className="text-slate-300">–î–æ–ª–≥–æ–ª–µ—Ç–∏–µ –ë—É–¥–µ–Ω–Ω–æ–≥–æ:</span>
                                                    <span className="font-semibold">70,000‚ÇΩ</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span className="text-slate-300">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ:</span>
                                                    <span className="font-semibold">150,000‚ÇΩ</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span className="text-slate-300">–ê—Ä–µ–Ω–¥–∞ –∑–∞–ª–∞:</span>
                                                    <span className="font-semibold">15,000‚ÇΩ</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span className="text-slate-300">–ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥:</span>
                                                    <span className="font-semibold">85,000‚ÇΩ</span>
                                                </div>
                                                <div className="pt-3 border-t border-slate-700 flex justify-between">
                                                    <span className="font-bold text-lg">–ò–¢–û–ì–û:</span>
                                                    <span className="font-bold text-lg text-green-400">437,600‚ÇΩ</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="bg-slate-900/50 p-6 rounded-lg border border-slate-700">
                                            <h3 className="text-lg font-bold mb-4 text-red-400">–†–ê–°–•–û–î–´</h3>
                                            <div className="space-y-3">
                                                <div className="flex justify-between">
                                                    <span className="text-slate-300">–ó–∞—Ä–ø–ª–∞—Ç—ã –ø–µ–¥–∞–≥–æ–≥–æ–≤:</span>
                                                    <span className="font-semibold">80,000‚ÇΩ</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span className="text-slate-300">–ö–æ–º–º—É–Ω–∞–ª–∫–∞:</span>
                                                    <span className="font-semibold">20,000‚ÇΩ</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span className="text-slate-300">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:</span>
                                                    <span className="font-semibold">10,000‚ÇΩ</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span className="text-slate-300">–ü—Ä–æ—á–µ–µ:</span>
                                                    <span className="font-semibold">5,000‚ÇΩ</span>
                                                </div>
                                                <div className="pt-3 border-t border-slate-700 flex justify-between">
                                                    <span className="font-bold text-lg">–ò–¢–û–ì–û:</span>
                                                    <span className="font-bold text-lg text-red-400">115,000‚ÇΩ</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="mt-6 bg-gradient-to-r from-blue-900/50 to-blue-800/50 p-6 rounded-lg border-2 border-blue-600">
                                        <div className="flex justify-between items-center">
                                            <span className="text-2xl font-bold">–ß–ò–°–¢–ê–Ø –ü–†–ò–ë–´–õ–¨:</span>
                                            <span className="text-3xl font-bold text-blue-400">322,600‚ÇΩ</span>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>

                        <div className="mt-8 text-center text-slate-500 text-sm">
                            <p>üí° Telegram Web App –¥–ª—è —É—á—ë—Ç–∞ –¥–æ—Ö–æ–¥–æ–≤ TheGame</p>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<FinanceTracker />, document.getElementById('root'));
    </script>
</body>
</html>
